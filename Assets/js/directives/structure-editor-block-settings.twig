<!-- TODO Localization -->
<div>
	<div class="btn-toolbar">
		<div class="btn-group">
			<button class="btn btn-default btn-sm" disabled="disabled"><i class="icon-plus"></i></button>
			<button class="btn btn-default btn-sm" ng-show="canInsertSideways()" ng-click="newBlockLeft()" title="Insert block left"><i class="icon-arrow-left"></i></button>
			<button class="btn btn-default btn-sm" ng-show="canInsertSideways()" ng-click="newBlockRight()" title="Insert block right"><i class="icon-arrow-right"></i></button>
			<button class="btn btn-default btn-sm" ng-click="newBlockAfter()" title="Insert block bottom"><i class="icon-arrow-down"></i></button>
			<button class="btn btn-default btn-sm" ng-click="newBlockBefore()" title="Insert block top"><i class="icon-arrow-up"></i></button>
		</div>
		<button class="btn btn-sm btn-danger pull-right" type="button" ng-click="removeBlock()" title="Delete block"><i class="icon-trash"></i></button>
	</div>
</div>

<hr />

<div ng-show="blockParametersLoading">
	Loading...
</div>
<div ng-hide="blockParametersLoading">
	<div ng-hide="block.name" class="form-group">
		<label class="control-label">Type de bloc</label>
		<div class="controls">
			<rbs-block-selector block="blockType" selected="(= block.name =)"></rbs-block-selector>
		</div>
	</div>

	<div ng-show="block.name">
		<div class="form-group" ng-hide="isRichText()">
			<label class="control-label" for="block_(=block.id=)_label">Libellé du bloc</label>
			<div class="controls">
				<input class="form-control input-sm" id="block_(=block.id=)_label" type="text" ng-model="block.label" placeholder="Nom du bloc"/>
			</div>
		</div>

		<div class="form-group">
			<label class="control-label">{{ i18nAttr('m.rbs.theme.admin.block_visibility', ['ucf']) }}</label>
			<div class="controls">
				<div class="btn-toolbar" role="toolbar">
					<div class="btn-group">
						<button type="button" class="btn btn-xs" ng-click="toggleVisibility('X')" ng-class="{true: 'btn-success active', false: 'btn-default'}[isVisibleFor('X')]">{{ i18n('m.rbs.theme.admin.block_visibility_x', ['ucf']) }}</button>
						<button type="button" class="btn btn-xs" ng-click="toggleVisibility('S')" ng-class="{true: 'btn-success active', false: 'btn-default'}[isVisibleFor('S')]">{{ i18n('m.rbs.theme.admin.block_visibility_s', ['ucf']) }}</button>
						<button type="button" class="btn btn-xs" ng-click="toggleVisibility('M')" ng-class="{true: 'btn-success active', false: 'btn-default'}[isVisibleFor('M')]">{{ i18n('m.rbs.theme.admin.block_visibility_m', ['ucf']) }}</button>
						<button type="button" class="btn btn-xs" ng-click="toggleVisibility('L')" ng-class="{true: 'btn-success active', false: 'btn-default'}[isVisibleFor('L')]">{{ i18n('m.rbs.theme.admin.block_visibility_l', ['ucf']) }}</button>
					</div>
				</div>
			</div>
		</div>

		<div class="form-group">
			<label class="control-label">{{ i18nAttr('m.rbs.theme.admin.block_ttl', ['ucf']) }}</label>
			<div class="controls">
				<div class="form-inline">
					<div class="btn-group">
						<button class="btn btn-default btn-sm" type="button" ng-click="setTTL(0)" ng-class="{true: 'btn-success active', false: 'btn-default'}[hasTTL(0)]">{{ i18n('m.rbs.theme.admin.block_ttl_none', ['ucf']) }}</button>
						<button class="btn btn-default btn-sm" type="button" ng-click="setTTL(60)" ng-class="{true: 'btn-success active', false: 'btn-default'}[hasTTL(60)]" title="{{ i18nAttr('m.rbs.theme.admin.block_ttl_1minute', ['ucf']) }}">{{ i18n('m.rbs.theme.admin.block_ttl_1m', ['ucf']) }}</button>
						<button class="btn btn-default btn-sm" type="button" ng-click="setTTL(600)" ng-class="{true: 'btn-success active', false: 'btn-default'}[hasTTL(600)]" title="{{ i18nAttr('m.rbs.theme.admin.block_ttl_10minutes', ['ucf']) }}">{{ i18n('m.rbs.theme.admin.block_ttl_10m', ['ucf']) }}</button>
						<button class="btn btn-default btn-sm" type="button" ng-click="setTTL(3600)" ng-class="{true: 'btn-success active', false: 'btn-default'}[hasTTL(3600)]" title="{{ i18nAttr('m.rbs.theme.admin.block_ttl_1hour', ['ucf']) }}">{{ i18n('m.rbs.theme.admin.block_ttl_1h', ['ucf']) }}</button>
					</div>
					<input type="integer" class="form-control input-sm" ng-model="blockParameters.TTL" size="4" />
				</div>
			</div>
		</div>

		<hr />

		<div class="btn-toolbar" ng-show="isInColumnLayout()">
			<button class="btn btn-default btn-sm pull-right" ng-click="selectParentRow()"><i class="icon-columns"></i> Paramétrer</button>
			<h6>Colonnes</h6>
		</div>

		<form ng-submit="submit()" novalidate name="block_properties_form" class="form-(=formDirection=)">
			<div data-role="blockParametersContainer"></div>
			<div ng-transclude=""></div>
		</form>
	</div>
</div>
